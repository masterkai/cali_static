"use strict";$(".accordion .tabs").each(function(c,a){$(a).click(function(){$(".accordion .tabs").removeClass("active"),$(this).addClass("active")})});
"use strict";$(document).ready(function(){$("#datetimeFrom,#datetimeFrom2,#datetimeFrom3, #datetimeFrom4,#datetimeFrom5").datepicker($.datepicker.regional["en-US"])});
"use strict";$(function(){$(".TrapezoidTag").click(function(){$(".drawerBox").toggleClass("active")})});
"use strict";$(function(){$(".itemContainer").find(".icon_chevron-down-light").on("click",function(){console.log($(this).parent().parent(".itemContainer").find(".dropDownBox").toggleClass("active"))})});
"use strict";$(function(){$("#GOTOP").click(function(){jQuery("html,body").animate({scrollTop:0},400)}),$(window).scroll(function(){120<$(this).scrollTop()?$("#GOTOP").fadeIn(300).addClass("active"):$("#GOTOP").stop().fadeOut(300).removeClass("active")})});
"use strict";$(function(){$(".mainCarousel").slick({autoplay:!0,dots:!0,infinite:!0,arrows:!0,fade:!0,speed:3e3,slidesToShow:1,slidesToScroll:1}),$(".bonusCarousel").slick({infinite:!0,slidesToShow:3,slidesToScroll:3,responsive:[{breakpoint:1024,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:580,settings:{slidesToShow:1,slidesToScroll:1}}]})});
"use strict";$(function(){$(".marqueeDeskTop").marquee({allowCss3Support:!0,duration:25e3,easing:"linear",pauseOnHover:!0}),$(".marquee").marquee({allowCss3Support:!0,duration:9e3,easing:"linear",pauseOnHover:!0})});
"use strict";var opened=!1;$(function(){function e(){$(".subMenu").css({transform:"translateX("+(opened?-240:0)+"px)","-webkit-transform":"translateX("+(opened?-240:0)+"px)","-moz-transform":"translateX("+(opened?-240:0)+"px)","-ms-transform":"translateX("+(opened?-240:0)+"px)","-o-transform":"translateX("+(opened?-240:0)+"px)"}),$(".mainContents").css({transform:"translateX("+(opened?0:240)+"px)","-webkit-transform":"translateX("+(opened?0:240)+"px)","-moz-transform":"translateX("+(opened?0:240)+"px)","-ms-transform":"translateX("+(opened?0:240)+"px)","-o-transform":"translateX("+(opened?0:240)+"px)"}),opened?$(".openBtn").removeClass("active"):$(".openBtn").addClass("active"),opened=!opened}function t(){var e=768,t=992,n=$(window).width();n!=e&&(t<n&&e<=t?$(".mainContents").css({transform:"translateX("+(opened?0:240)+"px)","-webkit-transform":"translateX(0px)","-moz-transform":"translateX(0px)","-ms-transform":"translateX(0px)","-o-transform":"translateX(0px)"}):n<=t&&t<e&&$(".mainContents").css({transform:"translateX("+(opened?240:0)+"px)","-webkit-transform":"translateX("+(opened?240:0)+"px)","-moz-transform":"translateX("+(opened?240:0)+"px)","-ms-transform":"translateX("+(opened?240:0)+"px)","-o-transform":"translateX("+(opened?240:0)+"px)"})),e=n}$(".mobile-nav-menu-li-title-1").click(function(){$(this).hasClass("active")?$(this).removeClass("active").next().hide():($(".mobile-nav-menu-li-title-2.active").removeClass("active").next().hide(),$(".mobile-nav-menu-li-title-1.active").removeClass("active").next().hide(),$(this).addClass("active").next().show())}),$(".mobile-nav-menu-li-title-2").click(function(){$(this).hasClass("active")?$(this).removeClass("active").next().hide():($(".mobile-nav-menu-li-title-2.active").removeClass("active").next().hide(),$(this).addClass("active").next().show())}),$(".contentsMask").click(function(){e()}),$(".openBtn").click(function(){e()}),$(".closeBtn").click(function(){e()}),$(window).on("load",t),$(window).on("resize",t),$(window).on("orientationchange",t)});
"use strict";$(function(){$(".menu,.DDW, .UPM,.UPS").hide(),$(".menuToggle").on("click",function(e){e.preventDefault(),e.stopPropagation(),$(this).next().hasClass("DDW")?$(this).hasClass("actived")?($(this).removeClass("icon_chevron-up-light"),$(this).addClass("icon_chevron-down-light"),$(this).removeClass("actived").next().hide().removeClass("actived")):($(this).removeClass("icon_chevron-down-light"),$(this).addClass("icon_chevron-up-light"),$(this).addClass("actived").next().show().addClass("actived")):$(this).hasClass("actived")?$(this).removeClass("actived").next().hide().removeClass("actived"):$(this).addClass("actived").next().show().addClass("actived")}),$(".menuToggle").on("mouseleave",function(e){var s=$(this),a=$(e.relatedTarget);$(this).next().hasClass("DDW")&&($(this).removeClass("icon_chevron-up-light"),$(this).addClass("icon_chevron-down-light")),$(a).hasClass("actived")||$(a).hasClass("nav-menu-2")||$(a).parent().hasClass("nav-menu-2")||$(s).removeClass("actived").next().hide().removeClass("actived")}),$(".nav-menu-2").on("mouseleave",function(e){var s=$(this),a=$(e.relatedTarget);$(a).hasClass("actived")||$(s).removeClass("actived").hide().prev().removeClass("actived")});document.getElementsByClassName("overlay");var s=$(".UPS");$(window).on("click",function(e){return"overlay"===e.target.className&&s.hide()})});
"use strict";$(function(){var e=$(".userTest").height();console.log("userTestHeight",e),$(".userFeedBackBox").height(e)});
"use strict";$(function(){var n=0;$(".switch").each(function(){var e=$(this).find(".switchBox").find(".tab"),t=$(this).find(".formPanel");e.each(function(s,a){$(a).on("click",function(i){i.preventDefault(),t.eq(n).css({display:"none"}),t.eq(s).css({display:"block"}),n=s;var c=$(a);c.hasClass("active")||(e.removeClass("active"),c.addClass("active"))})}),e.eq(0).trigger("click")})});
"use strict";$(function(){var e=document.getElementById("walletCloseBtn"),t=document.getElementById("openWallet"),n=document.getElementById("walletModal"),l=document.querySelector(".wallet_overlay");t.addEventListener("click",function(){return n.classList.add("show-modal")}),e.addEventListener("click",function(){return n.classList.remove("show-modal")}),window.addEventListener("click",function(e){return e.target===l&&n.classList.remove("show-modal")})});
"use strict";$(function(){var t=0;$(".walletMain").each(function(){var s=$(this).find(".mainNav").find(".tab"),c=$(this).find(".uiBox");s.each(function(e,n){$(n).on("click",function(a){a.preventDefault(),c.eq(t).css({display:"none"}),c.eq(e).css({display:"flex"}),t=e;var i=$(n);i.hasClass("active")||(s.removeClass("active"),i.addClass("active"))})}),s.eq(0).trigger("click")})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFjY29yZGlvbi5qcyIsImRhdGVQaWNrZXIuanMiLCJkcmF3ZXJCb3guanMiLCJkcm9wRG93bkJveC5qcyIsImdvVG9wLmpzIiwibWFpbi5qcyIsIm1hcnF1ZWUuanMiLCJtb2JpbGVOYXYuanMiLCJuYXYuanMiLCJzZWMuanMiLCJzd2l0Y2hUYWIuanMiLCJ3YWxsZXRNb2RhbC5qcyIsIndhbGxldFRhYi5qcyJdLCJuYW1lcyI6WyIkIiwiZWFjaCIsImluZGV4IiwidGFyZ2V0IiwiY2xpY2siLCJyZW1vdmVDbGFzcyIsImRvY3VtZW50IiwicmVhZHkiLCJkYXRlcGlja2VyIiwicmVnaW9uYWwiLCJ0b2dnbGVDbGFzcyIsImZpbmQiLCJvbiIsImNvbnNvbGUiLCJsb2ciLCJ0aGlzIiwicGFyZW50IiwialF1ZXJ5IiwiYW5pbWF0ZSIsInNjcm9sbFRvcCIsIndpbmRvdyIsInNjcm9sbCIsImZhZGVJbiIsImFkZENsYXNzIiwiZmFkZU91dCIsInNsaWNrIiwiYXV0b3BsYXkiLCJkb3RzIiwiaW5maW5pdGUiLCJhcnJvd3MiLCJmYWRlIiwic3BlZWQiLCJzbGlkZXNUb1Nob3ciLCJzbGlkZXNUb1Njcm9sbCIsInJlc3BvbnNpdmUiLCJicmVha3BvaW50Iiwic2V0dGluZ3MiLCJtYXJxdWVlIiwiYWxsb3dDc3MzU3VwcG9ydCIsImR1cmF0aW9uIiwib3BlbmVkIiwidHlwZSIsImNzcyIsInRyYW5zZm9ybSIsIi13ZWJraXQtdHJhbnNmb3JtIiwiLW1vei10cmFuc2Zvcm0iLCItbXMtdHJhbnNmb3JtIiwiLW8tdHJhbnNmb3JtIiwicHJld2luV2lkdGgiLCJ3aW54czIiLCJ3dyIsIndpZHRoIiwiaGFzQ2xhc3MiLCJuZXh0IiwiaGlkZSIsInNob3ciLCJzdWJNZW51VG9nZ2xlIiwicmVzaXplTWFpbkNvbnRlbnRzIiwiZSIsInByZXZlbnREZWZhdWx0Iiwic3RvcFByb3BhZ2F0aW9uIiwidG9iaiIsInRlb2JqIiwicmVsYXRlZFRhcmdldCIsInByZXYiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwiVVBTIiwib3ZlckxheSIsInVzZXJUZXN0SGVpZ2h0IiwiaGVpZ2h0IiwibGFzdFRhYiIsIiR0YWJBbmNob3JzIiwiJHRhYlBhbmVscyIsIm9iaiIsImRpc3BsYXkiLCJlcSIsImN1cnJlbnRUYWIiLCIkdGhpcyIsInRyaWdnZXIiLCJjbG9zZSIsImdldEVsZW1lbnRCeUlkIiwib3BlbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJtb2RhbCIsImNsYXNzTGlzdCIsImFkZCIsInJlbW92ZSJdLCJtYXBwaW5ncyI6ImFBQUFBLEVBQUUsb0JBQW9CQyxLQUFLLFNBQVVDLEVBQU9DLEdBQzFDSCxFQUFFRyxHQUFRQyxNQUFNLFdBRGhCSixFQUFBLG9CQUFGSyxZQUFxQ0gsVUFDakNDLEVBQUFBLE1BQVFDLFNBQU07YUNEbEJKLEVBQUVNLFVBQVVDLE1BQU0sV0FDaEJQLEVBQUUsOEVBQThFUSxXQUFXUixFQUFFUSxXQUFXQyxTQUFTO2FDRG5IVCxFQUFFLFdBQ0FBLEVBQUUsaUJBQWlCSSxNQUFNLFdBRHpCSixFQUFBLGNBQVlVLFlBQUE7YUNBZFYsRUFBRSxXQUNBQSxFQUFFLGtCQUFrQlcsS0FBSyw0QkFBNEJDLEdBQUcsUUFBUyxXQUEvREMsUUFBQUMsSUFBQWQsRUFBQWUsTUFBa0JKLFNBQUtLLE9BQUEsa0JBQStCTCxLQUFBLGdCQUFxQkQsWUFBQTthQ0QvRVYsRUFBRSxXQUNBQSxFQUFFLFVBQVVJLE1BQU0sV0FEbEJhLE9BQUEsYUFBV0MsUUFBQSxDQUNUQyxVQUFVZixHQUNWYSxPQUE0QmpCLEVBQUFvQixRQUE1QkMsT0FBQSxXQURGLElBQUFyQixFQUFBZSxNQUFBSSxZQUtFQyxFQUFBQSxVQUFGRSxPQUFpQixLQUFBQyxTQUFXLFVBRXhCdkIsRUFBRSxVQUFVc0IsT0FBT0UsUUFBS0QsS0FBeEJsQixZQUFBO2FDUk5MLEVBQUUsV0FDQUEsRUFBRSxpQkFBaUJ5QixNQUFNLENBRHpCQyxVQUFZLEVBQ1ZDLE1BQUEsRUFDQUQsVUFBVSxFQUNWQyxRQUFNLEVBQ05D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Q05ELEVBQVF6RSxTQUFTMEUsZUFBZSxlQUNoQ0MsRUFBZ0JELFNBQUFBLGNBQWUsbUJBS3JDQyxFQUFLQyxpQkFBaUIsUUFBUyxXQUFBLE9BQU1DLEVBQU1DLFVBQVVDLElBQUksZ0JBQTFCTixFQUFBRyxpQkFBWUUsUUFBYyxXQUFBLE9BQUFELEVBQTFCQyxVQUFBRSxPQUFBLGdCQUVqQ2xFLE9BQUE4RCxpQkFBQSxRQUFBLFNBQUF4QixHQUFBLE9BQ2tDQSxFQUFBdkQsU0FBWWlGLEdBQU5ELEVBQXVCQyxVQUE3QkUsT0FBQTthQ1ZsQ3RGLEVBQUUsV0FDQSxJQUFJc0UsRUFBVSxFQUFkdEUsRUFBQSxlQUFBQyxLQUFBLFdBR0UsSUFEQXNFLEVBQ2V2RSxFQUFFZSxNQUFNSixLQUFLLFlBRFJBLEtBQUEsUUFDcEI2RCxFQUFleEUsRUFBRWUsTUFBTUosS0FBSyxVQUE1QjRELEVBRUVDLEtBQWF4RSxTQUFRVyxFQUFSOEQsR0FHYnpFLEVBQUV5RSxHQUFLN0QsR0FBRyxRQUFTLFNBQVU4QyxHQUQvQmEsRUFBQUEsaUJBRUliLEVBQUVDLEdBQUFBLEdBQUZqQixJQUFBLENBQUFnQyxRQUFBLFNBQ0FGLEVBQUFHLEdBQUFDLEdBQUFsQyxJQUFBLENBQUFnQyxRQUFBLFNBQ0FGLEVBQUFBLEVBTUEsSUFBSUssRUFBUTdFLEVBQUV5RSxHQUFkSSxFQUFJQSxTQUFKLFlBSUNOLEVBQUFsRSxZQUFBLFVBR0R3RSxFQUFNdEQsU0FBUyxlQVFuQmdELEVBQVlJLEdBQUcsR0FBR0csUUFBUSIsImZpbGUiOiJzY3JpcHRzLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiQoJy5hY2NvcmRpb24gLnRhYnMnKS5lYWNoKGZ1bmN0aW9uIChpbmRleCwgdGFyZ2V0KSB7XG4gICQodGFyZ2V0KS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgJCgnLmFjY29yZGlvbiAudGFicycpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKVxuICAgICQodGhpcykuYWRkQ2xhc3MoJ2FjdGl2ZScpXG4gIH0pXG59KTsiLCIkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKSB7XG4gICQoJyNkYXRldGltZUZyb20sI2RhdGV0aW1lRnJvbTIsI2RhdGV0aW1lRnJvbTMsICNkYXRldGltZUZyb200LCNkYXRldGltZUZyb201JykuZGF0ZXBpY2tlcigkLmRhdGVwaWNrZXIucmVnaW9uYWxbXCJlbi1VU1wiXSk7XG5cbn0pOyIsIiQoZnVuY3Rpb24gKCkge1xuICAkKCcuVHJhcGV6b2lkVGFnJykuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICQoJy5kcmF3ZXJCb3gnKS50b2dnbGVDbGFzcygnYWN0aXZlJylcbiAgfSlcbn0pIiwiJChmdW5jdGlvbiAoKSB7XG4gICQoJy5pdGVtQ29udGFpbmVyJykuZmluZCgnLmljb25fY2hldnJvbi1kb3duLWxpZ2h0Jykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgIC8vICQodGhpcykuZmluZCgnLmRyb3BEb3duQm94JykudG9nZ2xlQ2xhc3MoJ2FjdGl2ZScpXG4gICAgY29uc29sZS5sb2coJCh0aGlzKS5wYXJlbnQoKS5wYXJlbnQoJy5pdGVtQ29udGFpbmVyJykuZmluZCgnLmRyb3BEb3duQm94JykudG9nZ2xlQ2xhc3MoJ2FjdGl2ZScpKTtcbiAgfSlcbn0pIiwiJChmdW5jdGlvbigpIHtcbiAgJChcIiNHT1RPUFwiKS5jbGljayhmdW5jdGlvbigpIHtcbiAgICBqUXVlcnkoXCJodG1sLGJvZHlcIikuYW5pbWF0ZSh7XG4gICAgICBzY3JvbGxUb3A6IDBcbiAgICB9LCA0MDApO1xuICB9KTtcbiAgJCh3aW5kb3cpLnNjcm9sbChmdW5jdGlvbigpIHtcbiAgICBpZiAoJCh0aGlzKS5zY3JvbGxUb3AoKSA+IDEyMCkge1xuICAgICAgJChcIiNHT1RPUFwiKS5mYWRlSW4oMzAwKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgJChcIiNHT1RPUFwiKS5zdG9wKCkuZmFkZU91dCgzMDApLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xuICAgIH1cbiAgfSk7XG59KTsiLCIkKGZ1bmN0aW9uICgpIHtcbiAgJCgnLm1haW5DYXJvdXNlbCcpLnNsaWNrKHtcbiAgICBhdXRvcGxheTogdHJ1ZSxcbiAgICBkb3RzOiB0cnVlLFxuICAgIGluZmluaXRlOiB0cnVlLFxuICAgIGFycm93czogdHJ1ZSxcbiAgICBmYWRlOiB0cnVlLFxuICAgIHNwZWVkOiAzMDAwLFxuICAgIHNsaWRlc1RvU2hvdzogMSxcbiAgICBzbGlkZXNUb1Njcm9sbDogMVxuICB9KTtcblxuICAkKCcuYm9udXNDYXJvdXNlbCcpLnNsaWNrKHtcbiAgICBpbmZpbml0ZTogdHJ1ZSxcbiAgICBzbGlkZXNUb1Nob3c6IDMsXG4gICAgc2xpZGVzVG9TY3JvbGw6IDMsXG4gICAgcmVzcG9uc2l2ZTogW1xuICAgICAge1xuICAgICAgICBicmVha3BvaW50OiAxMDI0LFxuICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgIHNsaWRlc1RvU2hvdzogMixcbiAgICAgICAgICBzbGlkZXNUb1Njcm9sbDogMlxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBicmVha3BvaW50OiA1ODAsXG4gICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgc2xpZGVzVG9TaG93OiAxLFxuICAgICAgICAgIHNsaWRlc1RvU2Nyb2xsOiAxXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICBdXG4gIH0pO1xufSk7IiwiJChmdW5jdGlvbigpe1xuICAkKCcubWFycXVlZURlc2tUb3AnKS5tYXJxdWVlKHtcbiAgICBhbGxvd0NzczNTdXBwb3J0OnRydWUsXG4gICAgZHVyYXRpb246IDI1MDAwLFxuICAgIGVhc2luZzonbGluZWFyJyxcbiAgICBwYXVzZU9uSG92ZXI6dHJ1ZSxcblxuICB9KTtcblxuICAkKCcubWFycXVlZScpLm1hcnF1ZWUoe1xuICAgIGFsbG93Q3NzM1N1cHBvcnQ6dHJ1ZSxcbiAgICBkdXJhdGlvbjogOTAwMCxcbiAgICBlYXNpbmc6J2xpbmVhcicsXG4gICAgcGF1c2VPbkhvdmVyOnRydWUsXG5cbiAgfSk7XG59KTtcbiIsInZhciBvcGVuZWQgPSBmYWxzZTtcblxuJChmdW5jdGlvbigpIHtcblxuICAgICQoJy5tb2JpbGUtbmF2LW1lbnUtbGktdGl0bGUtMScpLmNsaWNrKGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoJCh0aGlzKS5oYXNDbGFzcygnYWN0aXZlJykpIHtcbiAgICAgICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpLm5leHQoKS5oaWRlKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAkKCcubW9iaWxlLW5hdi1tZW51LWxpLXRpdGxlLTIuYWN0aXZlJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpLm5leHQoKS5oaWRlKCk7XG5cbiAgICAgICAgJCgnLm1vYmlsZS1uYXYtbWVudS1saS10aXRsZS0xLmFjdGl2ZScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKS5uZXh0KCkuaGlkZSgpO1xuICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdhY3RpdmUnKS5uZXh0KCkuc2hvdygpO1xuXG4gICAgfSk7XG5cbiAgICAkKCcubW9iaWxlLW5hdi1tZW51LWxpLXRpdGxlLTInKS5jbGljayhmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCQodGhpcykuaGFzQ2xhc3MoJ2FjdGl2ZScpKSB7XG4gICAgICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKS5uZXh0KCkuaGlkZSgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgJCgnLm1vYmlsZS1uYXYtbWVudS1saS10aXRsZS0yLmFjdGl2ZScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKS5uZXh0KCkuaGlkZSgpO1xuICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdhY3RpdmUnKS5uZXh0KCkuc2hvdygpO1xuXG4gICAgfSk7XG5cblxuICAgICQoJy5jb250ZW50c01hc2snKS5jbGljayhmdW5jdGlvbigpIHtcbiAgICAgICAgc3ViTWVudVRvZ2dsZSgpO1xuICAgIH0pO1xuXG4gICAgJCgnLm9wZW5CdG4nKS5jbGljayhmdW5jdGlvbigpIHtcbiAgICAgICAgc3ViTWVudVRvZ2dsZSgpO1xuICAgIH0pO1xuXG4gICAgJCgnLmNsb3NlQnRuJykuY2xpY2soZnVuY3Rpb24oKSB7XG4gICAgICAgIHN1Yk1lbnVUb2dnbGUoKTtcbiAgICB9KTtcblxuICAgIGZ1bmN0aW9uIHN1Yk1lbnVUb2dnbGUoKSB7XG4gICAgICAgIHZhciB0eXBlID0gMTtcbiAgICAgICAgdmFyIG1hc2tlZCA9IGZhbHNlO1xuXG4gICAgICAgIGlmICghb3BlbmVkKSB7XG4gICAgICAgICAgICAvLy8vJCgnLnN1Yk1lbnUnKS5jc3MoJ3RvcCcsIDApO1xuICAgICAgICAgICAgLy9pZiAodHlwZSA9PSBcIjFcIiB8fCB0eXBlID09IFwiM1wiKSB7XG4gICAgICAgICAgICAvLyAgICAkKCcuc3ViTWVudScpLmNzcygncG9zaXRpb24nLCAnZml4ZWQnKTtcbiAgICAgICAgICAgIC8vICAgICQoJy5zdWJNZW51JykuY3NzKCdoZWlnaHQnLCAnMTAwJScpO1xuICAgICAgICAgICAgLy99IGVsc2Uge1xuICAgICAgICAgICAgLy8gICAgJCgnLnN1Yk1lbnUnKS5jc3MoJ3Bvc2l0aW9uJywgJ2Fic29sdXRlJyk7XG4gICAgICAgICAgICAvLyAgICAkKCcuc3ViTWVudScpLmNzcygnaGVpZ2h0JywgJ2F1dG8nKTtcbiAgICAgICAgICAgIC8vICAgICQod2luZG93KS5zY3JvbGxUb3AoMCk7XG4gICAgICAgICAgICAvL31cbiAgICAgICAgfVxuXG4gICAgICAgIC8vJCgnLnN1Yk1lbnUnKS5jc3MoJ2xlZnQnLCBvcGVuZWQgPyAtMjQwIDogMCk7XG4gICAgICAgICQoJy5zdWJNZW51JykuY3NzKHtcbiAgICAgICAgICAgICd0cmFuc2Zvcm0nOiAndHJhbnNsYXRlWCgnICsgKG9wZW5lZCA/IC0yNDAgOiAwKSArICdweCknLFxuICAgICAgICAgICAgJy13ZWJraXQtdHJhbnNmb3JtJzogJ3RyYW5zbGF0ZVgoJyArIChvcGVuZWQgPyAtMjQwIDogMCkgKyAncHgpJyxcbiAgICAgICAgICAgICctbW96LXRyYW5zZm9ybSc6ICd0cmFuc2xhdGVYKCcgKyAob3BlbmVkID8gLTI0MCA6IDApICsgJ3B4KScsXG4gICAgICAgICAgICAnLW1zLXRyYW5zZm9ybSc6ICd0cmFuc2xhdGVYKCcgKyAob3BlbmVkID8gLTI0MCA6IDApICsgJ3B4KScsXG4gICAgICAgICAgICAnLW8tdHJhbnNmb3JtJzogJ3RyYW5zbGF0ZVgoJyArIChvcGVuZWQgPyAtMjQwIDogMCkgKyAncHgpJ1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoIW9wZW5lZCkge1xuICAgICAgICAgICAgLy9pZiAodHlwZSA9PSBcIjFcIiB8fCB0eXBlID09IFwiMlwiKSB7XG4gICAgICAgICAgICAvLyQoJy5tYWluQ29udGVudHMnKS5jc3MoJ2xlZnQnLCBvcGVuZWQgPyAwIDogMjQwKTtcbiAgICAgICAgICAgICQoJy5tYWluQ29udGVudHMnKS5jc3Moe1xuICAgICAgICAgICAgICAgICd0cmFuc2Zvcm0nOiAndHJhbnNsYXRlWCgnICsgKG9wZW5lZCA/IDAgOiAyNDApICsgJ3B4KScsXG4gICAgICAgICAgICAgICAgJy13ZWJraXQtdHJhbnNmb3JtJzogJ3RyYW5zbGF0ZVgoJyArIChvcGVuZWQgPyAwIDogMjQwKSArICdweCknLFxuICAgICAgICAgICAgICAgICctbW96LXRyYW5zZm9ybSc6ICd0cmFuc2xhdGVYKCcgKyAob3BlbmVkID8gMCA6IDI0MCkgKyAncHgpJyxcbiAgICAgICAgICAgICAgICAnLW1zLXRyYW5zZm9ybSc6ICd0cmFuc2xhdGVYKCcgKyAob3BlbmVkID8gMCA6IDI0MCkgKyAncHgpJyxcbiAgICAgICAgICAgICAgICAnLW8tdHJhbnNmb3JtJzogJ3RyYW5zbGF0ZVgoJyArIChvcGVuZWQgPyAwIDogMjQwKSArICdweCknXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8kKCcubWFpbkNvbnRlbnRzJykuY3NzKCdsZWZ0Jywgb3BlbmVkID8gMCA6IDI0MCk7XG4gICAgICAgICAgICAkKCcubWFpbkNvbnRlbnRzJykuY3NzKHtcbiAgICAgICAgICAgICAgICAndHJhbnNmb3JtJzogJ3RyYW5zbGF0ZVgoJyArIChvcGVuZWQgPyAwIDogMjQwKSArICdweCknLFxuICAgICAgICAgICAgICAgICctd2Via2l0LXRyYW5zZm9ybSc6ICd0cmFuc2xhdGVYKCcgKyAob3BlbmVkID8gMCA6IDI0MCkgKyAncHgpJyxcbiAgICAgICAgICAgICAgICAnLW1vei10cmFuc2Zvcm0nOiAndHJhbnNsYXRlWCgnICsgKG9wZW5lZCA/IDAgOiAyNDApICsgJ3B4KScsXG4gICAgICAgICAgICAgICAgJy1tcy10cmFuc2Zvcm0nOiAndHJhbnNsYXRlWCgnICsgKG9wZW5lZCA/IDAgOiAyNDApICsgJ3B4KScsXG4gICAgICAgICAgICAgICAgJy1vLXRyYW5zZm9ybSc6ICd0cmFuc2xhdGVYKCcgKyAob3BlbmVkID8gMCA6IDI0MCkgKyAncHgpJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvL2lmIChtYXNrZWQpIHtcbiAgICAgICAgLy8gICAgaWYgKG9wZW5lZCkge1xuICAgICAgICAvLyAgICAgICAgJCgnLmNvbnRlbnRzTWFzaycpLmhpZGUoKTtcbiAgICAgICAgLy8gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gICAgICAgICQoJy5jb250ZW50c01hc2snKS5zaG93KCk7XG4gICAgICAgIC8vICAgIH1cbiAgICAgICAgLy99XG4gICAgICAgIGlmICghb3BlbmVkKSB7XG4gICAgICAgICAgICAkKCcub3BlbkJ0bicpLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICQoJy5vcGVuQnRuJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICB9XG4gICAgICAgIG9wZW5lZCA9ICFvcGVuZWQ7XG4gICAgfVxuXG4gICAgJCh3aW5kb3cpLm9uKFwibG9hZFwiLCByZXNpemVNYWluQ29udGVudHMpO1xuICAgICQod2luZG93KS5vbihcInJlc2l6ZVwiLCByZXNpemVNYWluQ29udGVudHMpO1xuICAgICQod2luZG93KS5vbihcIm9yaWVudGF0aW9uY2hhbmdlXCIsIHJlc2l6ZU1haW5Db250ZW50cyk7XG5cbiAgICBmdW5jdGlvbiByZXNpemVNYWluQ29udGVudHMoKSB7XG4gICAgICAgIHZhciBwcmV3aW5XaWR0aCA9IDc2ODtcbiAgICAgICAgdmFyIHdpbnhzMiA9IDk5MjtcbiAgICAgICAgdmFyIHd3ID0gJCh3aW5kb3cpLndpZHRoKCk7XG5cbiAgICAgICAgaWYgKHd3ICE9IHByZXdpbldpZHRoKSB7XG4gICAgICAgICAgICBpZiAod3cgPiB3aW54czIgJiYgcHJld2luV2lkdGggPD0gd2lueHMyKSB7XG4gICAgICAgICAgICAgICAgLy8kKCcubWFpbkNvbnRlbnRzJykuY3NzKCdsZWZ0JywgMCk7XG4gICAgICAgICAgICAgICAgJCgnLm1haW5Db250ZW50cycpLmNzcyh7XG4gICAgICAgICAgICAgICAgICAgICd0cmFuc2Zvcm0nOiAndHJhbnNsYXRlWCgnICsgKG9wZW5lZCA/IDAgOiAyNDApICsgJ3B4KScsXG4gICAgICAgICAgICAgICAgICAgICctd2Via2l0LXRyYW5zZm9ybSc6ICd0cmFuc2xhdGVYKDBweCknLFxuICAgICAgICAgICAgICAgICAgICAnLW1vei10cmFuc2Zvcm0nOiAndHJhbnNsYXRlWCgwcHgpJyxcbiAgICAgICAgICAgICAgICAgICAgJy1tcy10cmFuc2Zvcm0nOiAndHJhbnNsYXRlWCgwcHgpJyxcbiAgICAgICAgICAgICAgICAgICAgJy1vLXRyYW5zZm9ybSc6ICd0cmFuc2xhdGVYKDBweCknXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHd3IDw9IHdpbnhzMiAmJiBwcmV3aW5XaWR0aCA+IHdpbnhzMikge1xuICAgICAgICAgICAgICAgIC8vJCgnLm1haW5Db250ZW50cycpLmNzcygnbGVmdCcsIG9wZW5lZCA/IDI0MCA6IDApO1xuICAgICAgICAgICAgICAgICQoJy5tYWluQ29udGVudHMnKS5jc3Moe1xuICAgICAgICAgICAgICAgICAgICAndHJhbnNmb3JtJzogJ3RyYW5zbGF0ZVgoJyArIChvcGVuZWQgPyAyNDAgOiAwKSArICdweCknLFxuICAgICAgICAgICAgICAgICAgICAnLXdlYmtpdC10cmFuc2Zvcm0nOiAndHJhbnNsYXRlWCgnICsgKG9wZW5lZCA/IDI0MCA6IDApICsgJ3B4KScsXG4gICAgICAgICAgICAgICAgICAgICctbW96LXRyYW5zZm9ybSc6ICd0cmFuc2xhdGVYKCcgKyAob3BlbmVkID8gMjQwIDogMCkgKyAncHgpJyxcbiAgICAgICAgICAgICAgICAgICAgJy1tcy10cmFuc2Zvcm0nOiAndHJhbnNsYXRlWCgnICsgKG9wZW5lZCA/IDI0MCA6IDApICsgJ3B4KScsXG4gICAgICAgICAgICAgICAgICAgICctby10cmFuc2Zvcm0nOiAndHJhbnNsYXRlWCgnICsgKG9wZW5lZCA/IDI0MCA6IDApICsgJ3B4KSdcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwcmV3aW5XaWR0aCA9IHd3O1xuICAgICAgICAvL2NvbnNvbGUubG9nKCQoJy5zdWJNZW51JykuaGVpZ2h0KCkpXG4gICAgICAgIC8vJCgnLnN1Yk1lbnUnKS5oZWlnaHQoJCh3aW5kb3cpLmhlaWdodCgpIC0gNjUpO1xuICAgICAgICAvL2NvbnNvbGUubG9nKCQod2luZG93KS5oZWlnaHQoKSk7XG4gICAgICAgIC8vY29uc29sZS5sb2coJCgnLnN1Yk1lbnUnKS5oZWlnaHQoKSk7XG5cbiAgICB9XG59KTtcbiIsIiQoZnVuY3Rpb24gKCkge1xuICAkKCcubWVudSwuRERXLCAuVVBNLC5VUFMnKS5oaWRlKCk7XG4gICQoJy5tZW51VG9nZ2xlJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAvLyBjb25zb2xlLmxvZygkKHRoaXMpKTtcbiAgICBpZiAoJCh0aGlzKS5uZXh0KCkuaGFzQ2xhc3MoJ0REVycpKSB7XG4gICAgICBpZiAoISQodGhpcykuaGFzQ2xhc3MoJ2FjdGl2ZWQnKSkge1xuICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCdpY29uX2NoZXZyb24tZG93bi1saWdodCcpO1xuICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdpY29uX2NoZXZyb24tdXAtbGlnaHQnKTtcbiAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnYWN0aXZlZCcpLm5leHQoKS5zaG93KCkuYWRkQ2xhc3MoJ2FjdGl2ZWQnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoJ2ljb25fY2hldnJvbi11cC1saWdodCcpO1xuICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdpY29uX2NoZXZyb24tZG93bi1saWdodCcpO1xuICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCdhY3RpdmVkJykubmV4dCgpLmhpZGUoKS5yZW1vdmVDbGFzcygnYWN0aXZlZCcpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoISQodGhpcykuaGFzQ2xhc3MoJ2FjdGl2ZWQnKSkge1xuICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdhY3RpdmVkJykubmV4dCgpLnNob3coKS5hZGRDbGFzcygnYWN0aXZlZCcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnYWN0aXZlZCcpLm5leHQoKS5oaWRlKCkucmVtb3ZlQ2xhc3MoJ2FjdGl2ZWQnKTtcbiAgICAgIH1cbiAgICB9XG5cblxuICAgIC8vJCh0aGlzKS5hZGRDbGFzcygnYWN0aXZlZCcpLm5leHQoKS5zaG93KCkuYWRkQ2xhc3MoJ2FjdGl2ZWQnKTtcbiAgfSk7XG4gICQoJy5tZW51VG9nZ2xlJykub24oJ21vdXNlbGVhdmUnLCBmdW5jdGlvbiAoZSkge1xuICAgIHZhciB0b2JqID0gJCh0aGlzKSwgdGVvYmogPSAkKGUucmVsYXRlZFRhcmdldCk7XG4gICAgaWYgKCQodGhpcykubmV4dCgpLmhhc0NsYXNzKCdERFcnKSkge1xuICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnaWNvbl9jaGV2cm9uLXVwLWxpZ2h0Jyk7XG4gICAgICAkKHRoaXMpLmFkZENsYXNzKCdpY29uX2NoZXZyb24tZG93bi1saWdodCcpO1xuICAgIH1cblxuICAgIGlmICghKCQodGVvYmopLmhhc0NsYXNzKCdhY3RpdmVkJykgfHwgJCh0ZW9iaikuaGFzQ2xhc3MoJ25hdi1tZW51LTInKSB8fCAkKHRlb2JqKS5wYXJlbnQoKS5oYXNDbGFzcygnbmF2LW1lbnUtMicpKSkge1xuICAgICAgJCh0b2JqKS5yZW1vdmVDbGFzcygnYWN0aXZlZCcpLm5leHQoKS5oaWRlKCkucmVtb3ZlQ2xhc3MoJ2FjdGl2ZWQnKTtcbiAgICB9XG4gIH0pO1xuXG4gICQoJy5uYXYtbWVudS0yJykub24oJ21vdXNlbGVhdmUnLCBmdW5jdGlvbiAoZSkge1xuICAgIHZhciB0b2JqID0gJCh0aGlzKSwgdGVvYmogPSAkKGUucmVsYXRlZFRhcmdldCk7XG4gICAgaWYgKCEkKHRlb2JqKS5oYXNDbGFzcygnYWN0aXZlZCcpKSB7XG4gICAgICAkKHRvYmopLnJlbW92ZUNsYXNzKCdhY3RpdmVkJykuaGlkZSgpLnByZXYoKS5yZW1vdmVDbGFzcygnYWN0aXZlZCcpO1xuICAgIH1cbiAgfSk7XG5cbiAgY29uc3Qgb3ZlckxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ292ZXJsYXknKTtcbiAgY29uc3QgVVBTID0gJCgnLlVQUycpO1xuICBjb25zdCAkd2luZG93ID0gJCh3aW5kb3cpXG4gICR3aW5kb3cub24oJ2NsaWNrJywgZT0+ZS50YXJnZXQuY2xhc3NOYW1lID09PSAnb3ZlcmxheSc/IFVQUy5oaWRlKCk6IGZhbHNlKVxufSk7IiwiJChmdW5jdGlvbiAoKSB7XG4gIGNvbnN0IHVzZXJUZXN0SGVpZ2h0ID0gJCgnLnVzZXJUZXN0JykuaGVpZ2h0KCk7XG4gIGNvbnNvbGUubG9nKCd1c2VyVGVzdEhlaWdodCcsdXNlclRlc3RIZWlnaHQpO1xuICAkKCcudXNlckZlZWRCYWNrQm94JykuaGVpZ2h0KHVzZXJUZXN0SGVpZ2h0KTtcbn0pIiwiJChmdW5jdGlvbiAoKSB7XG4gIGxldCBsYXN0VGFiID0gMDtcblxuICAkKCcuc3dpdGNoJykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgbGV0ICR0YWJMaXN0ID0gJCh0aGlzKS5maW5kKCcuc3dpdGNoQm94JyksXG4gICAgICAkdGFiQW5jaG9ycyA9ICR0YWJMaXN0LmZpbmQoJy50YWInKSxcbiAgICAgICR0YWJQYW5lbHMgPSAkKHRoaXMpLmZpbmQoJy5mb3JtUGFuZWwnKTtcblxuICAgICR0YWJBbmNob3JzLmVhY2goZnVuY3Rpb24gKGN1cnJlbnRUYWIsb2JqKSB7XG4gICAgICAkKG9iaikub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAvLyBjb25zb2xlLmxvZygkdGFiUGFuZWxzLmVxKGN1cnJlbnRUYWIpKTtcbiAgICAgICAgJHRhYlBhbmVscy5lcShsYXN0VGFiKS5jc3Moe2Rpc3BsYXk6ICdub25lJ30pO1xuICAgICAgICAkdGFiUGFuZWxzLmVxKGN1cnJlbnRUYWIpLmNzcyh7ZGlzcGxheTogJ2Jsb2NrJ30pO1xuICAgICAgICBsYXN0VGFiID0gY3VycmVudFRhYjtcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ2xhc3RUYWI6JytsYXN0VGFiKycgLGN1cnJlbnRUYWI6JytjdXJyZW50VGFiKycgLG9iajonKyQob2JqKS5hdHRyKCdocmVmJykpO1xuXG4gICAgICAgIC8vIEFkZCBhY3RpdmUgY2xhc3MgdG8gdGhlIHRhYiB3aGljaCB3YXMgY2xpY2tlZCEhXG4gICAgICAgIGxldCAkdGhpcyA9ICQob2JqKTtcbiAgICAgICAgLy8gY29uc29sZS5sb2coJHRoaXMuYXR0cignaHJlZicpKTtcbiAgICAgICAgaWYoJHRoaXMuaGFzQ2xhc3MoJ2FjdGl2ZScpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgJHRhYkFuY2hvcnMucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAkdGhpcy5hZGRDbGFzcygnYWN0aXZlJyk7XG5cbiAgICAgICAgLy8gJHRhYlBhbmVscy5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpO1xuICAgICAgICAvLyAkKCR0aGlzLmF0dHIoJ2hyZWYnKSkuY3NzKCdkaXNwbGF5JywgJ2Jsb2NrJyk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuXG4gICAgJHRhYkFuY2hvcnMuZXEoMCkudHJpZ2dlcignY2xpY2snKTtcbiAgfSk7XG59KTsiLCIkKGZ1bmN0aW9uICgpIHtcbiAgY29uc3QgY2xvc2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2FsbGV0Q2xvc2VCdG4nKVxuICBjb25zdCBvcGVuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ29wZW5XYWxsZXQnKTtcbiAgY29uc3QgbW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2FsbGV0TW9kYWwnKTtcbiAgY29uc3Qgd2FsbGV0T3ZlckxheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy53YWxsZXRfb3ZlcmxheScpXG5cbiAgLy8gU2hvdyBtb2RhbFxuICBvcGVuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gbW9kYWwuY2xhc3NMaXN0LmFkZCgnc2hvdy1tb2RhbCcpKTtcblxuLy8gSGlkZSBtb2RhbFxuICBjbG9zZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IG1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ3Nob3ctbW9kYWwnKSk7XG5cbi8vIEhpZGUgbW9kYWwgb24gb3V0c2lkZSBjbGlja1xuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+XG4gICAgLy8gY29uc29sZS5sb2coZS50YXJnZXQpXG4gICAgZS50YXJnZXQgPT09IHdhbGxldE92ZXJMYXkgPyBtb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdzaG93LW1vZGFsJykgOiBmYWxzZVxuICApO1xufSkiLCIkKGZ1bmN0aW9uICgpIHtcbiAgbGV0IGxhc3RUYWIgPSAwO1xuXG4gICQoJy53YWxsZXRNYWluJykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgbGV0ICR0YWJMaXN0ID0gJCh0aGlzKS5maW5kKCcubWFpbk5hdicpLFxuICAgICAgJHRhYkFuY2hvcnMgPSAkdGFiTGlzdC5maW5kKCcudGFiJyksXG4gICAgICAkdGFiUGFuZWxzID0gJCh0aGlzKS5maW5kKCcudWlCb3gnKTtcblxuICAgICR0YWJBbmNob3JzLmVhY2goZnVuY3Rpb24gKGN1cnJlbnRUYWIsb2JqKSB7XG4gICAgICAkKG9iaikub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAvLyBjb25zb2xlLmxvZygkdGFiUGFuZWxzLmVxKGN1cnJlbnRUYWIpKTtcbiAgICAgICAgJHRhYlBhbmVscy5lcShsYXN0VGFiKS5jc3Moe2Rpc3BsYXk6ICdub25lJ30pO1xuICAgICAgICAkdGFiUGFuZWxzLmVxKGN1cnJlbnRUYWIpLmNzcyh7ZGlzcGxheTogJ2ZsZXgnfSk7XG4gICAgICAgIGxhc3RUYWIgPSBjdXJyZW50VGFiO1xuICAgICAgICAvLyBjb25zb2xlLmxvZygnbGFzdFRhYjonK2xhc3RUYWIrJyAsY3VycmVudFRhYjonK2N1cnJlbnRUYWIrJyAsb2JqOicrJChvYmopLmF0dHIoJ2hyZWYnKSk7XG5cbiAgICAgICAgLy8gQWRkIGFjdGl2ZSBjbGFzcyB0byB0aGUgdGFiIHdoaWNoIHdhcyBjbGlja2VkISFcbiAgICAgICAgbGV0ICR0aGlzID0gJChvYmopO1xuICAgICAgICAvLyBjb25zb2xlLmxvZygkdGhpcy5hdHRyKCdocmVmJykpO1xuICAgICAgICBpZigkdGhpcy5oYXNDbGFzcygnYWN0aXZlJykpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAkdGFiQW5jaG9ycy5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICR0aGlzLmFkZENsYXNzKCdhY3RpdmUnKTtcblxuICAgICAgICAvLyAkdGFiUGFuZWxzLmNzcygnZGlzcGxheScsICdub25lJyk7XG4gICAgICAgIC8vICQoJHRoaXMuYXR0cignaHJlZicpKS5jc3MoJ2Rpc3BsYXknLCAnYmxvY2snKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG5cbiAgICAkdGFiQW5jaG9ycy5lcSgwKS50cmlnZ2VyKCdjbGljaycpO1xuICB9KTtcbn0pOyJdfQ==
